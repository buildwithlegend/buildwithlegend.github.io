<script>
  (function initTheme(){
    const saved=localStorage.getItem("theme");
    if(saved) document.documentElement.setAttribute("data-theme", saved);
    else {
      const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
      document.documentElement.setAttribute("data-theme", prefersLight ? "light" : "dark");
    }
    const el=document.getElementById("themeIcon");
    if(el) el.textContent = (document.documentElement.getAttribute("data-theme")==="dark") ? "ğŸŒ™" : "â˜€ï¸";
  })();
  function toggleTheme(){
    const cur=document.documentElement.getAttribute("data-theme")||"dark";
    const next=cur==="dark"?"light":"dark";
    document.documentElement.setAttribute("data-theme", next);
    localStorage.setItem("theme", next);
    const el=document.getElementById("themeIcon");
    if(el) el.textContent = next==="dark"?"ğŸŒ™":"â˜€ï¸";
  }
</script>
