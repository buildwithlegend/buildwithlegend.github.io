<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{TITLE}}ï½œ{{SITE_NAME}}</title>
  <meta name="description" content="{{DESC}}" />
  <link rel="canonical" href="{{CANONICAL}}" />
  <link rel="stylesheet" href="../assets/css/style.css" />
</head>
<body>
<header class="topbar">
  <div class="container topbar-inner">
    <a class="brand" href="/"><span class="logo" aria-hidden="true"></span><span>{{SITE_NAME}}</span></a>
    <nav class="nav" aria-label="Site">
      <a href="/">é¦–é </a>
      <a href="/fix/">éŒ¯èª¤è§£æ±º</a>
      <a href="/start/">æ–°æ‰‹å¿…çœ‹</a>
      <a href="/tools/">å·¥å…·æ¨è–¦</a>
      <a href="/tags/">æ¨™ç±¤åˆ†é¡</a>
    </nav>
    <div class="actions">
      <span class="kbd">/ æœå°‹</span>
      <button class="iconbtn" type="button" onclick="toggleTheme()" aria-label="Toggle theme"><span id="themeIcon">ğŸŒ™</span></button>
    </div>
  </div>
</header>

<main class="container">
  <section class="hero">
    <div class="panel hero-main">
      <div class="hero-content">
        <h1>{{TITLE}}</h1>
        <p class="sub">{{DESC}}</p>
        <div class="pills">
          <span class="pill">ç²¾é¸å…¥å£</span>
          <span class="pill">å¯é•·æœŸæ’å</span>
          <span class="pill">å¯æ”¾ç½®è®Šç¾é€£çµ</span>
        </div>
      </div>
    </div>
    <div class="panel hero-side">
      <div class="metric"><span class="mini">æ–‡ç« æ•¸</span><b id="count">0</b></div>
      <div class="metric"><span class="mini">æç¤º</span><b>å…ˆæŒ‘ä¸€ç¯‡é–‹å§‹</b></div>
      <div class="mini" style="margin-top:10px">æƒ³è®“æ–‡ç« å‡ºç¾åœ¨é€™é ï¼šåœ¨ md frontmatter è¨­ <b>section</b> æˆ– <b>category</b> æˆ– <b>tag</b></div>
    </div>
  </section>

  <section class="grid" id="postGrid" aria-label="Posts"></section>

  <script id="DATA_POSTS" type="application/json">{{POSTS_JSON}}</script>
</main>

<footer class="footer">
  <div class="container footer-inner">
    <span class="mini">Â© 2026 {{SITE_NAME}}</span>
    <span class="mini"><a class="mini link" href="/rss.xml">RSS</a> Â· <a class="mini link" href="/sitemap.xml">Sitemap</a></span>
  </div>
</footer>

<script>
(function(){
  const grid = document.getElementById("postGrid");
  const dataEl = document.getElementById("DATA_POSTS");
  const countEl = document.getElementById("count");
  if(!grid || !dataEl) return;
  let posts = [];
  try{ posts = JSON.parse(dataEl.textContent || "[]"); }catch(e){ posts = []; }
  if(countEl) countEl.textContent = String(posts.length);
  if(!posts.length){
    grid.innerHTML = '<div class="mini">ç›®å‰é‚„æ²’æœ‰æ–‡ç« è¢«æ­¸é¡åˆ°é€™å€‹å°ˆå€ã€‚ä½ å¯ä»¥åœ¨æ–‡ç«  md çš„ frontmatter åŠ ä¸Šï¼š<b>section: fix/start/tools</b> æˆ–æŠŠ <b>category</b> è¨­æˆå°æ‡‰åç¨±ã€‚</div>';
    return;
  }
  grid.innerHTML = posts.map(p => `
    <article class="card">
      <div class="card-head">
        <span class="mini">${p.date || ""} Â· ${p.category || ""}</span>
      </div>
      <h3 class="card-title">${p.title}</h3>
      <p class="card-excerpt">${p.excerpt || ""}</p>
      <div class="card-foot">
        <span class="mini">${(p.tags||[]).slice(0,4).map(t=>"#"+t).join(" ")}</span>
        <a class="mini link" href="/post/${p.slug}/">é–±è®€ â†’</a>
      </div>
    </article>
  `).join("");
})();
</script>

{{THEME}}
</body>
</html>
